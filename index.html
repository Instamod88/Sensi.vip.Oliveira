<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Sensi Xitada PRO</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}

body{
  min-height:100vh;
  background:linear-gradient(145deg,#020202,#001a1a);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* ===== ANIMAÇÕES ===== */
@keyframes enter{
  from{opacity:0;transform:scale(.9)}
  to{opacity:1;transform:scale(1)}
}
@keyframes neon{
  0%{box-shadow:0 0 10px #0ff}
  50%{box-shadow:0 0 30px #0ff}
  100%{box-shadow:0 0 10px #0ff}
}

/* ===== LOGIN ===== */
#login{
  width:400px;
  padding:30px;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(12px);
  border-radius:18px;
  animation:enter 1s,neon 3s infinite;
  text-align:center;
}
#login h1{color:#0ff;margin-bottom:20px}
#login input,#login button{
  width:100%;
  padding:15px;
  margin-top:10px;
  border:none;
  border-radius:12px;
  font-size:16px;
}
#login button{background:#0ff;color:#000;font-size:18px;cursor:pointer}

/* ===== APP ===== */
#app{
  display:none;
  width:100%;
  max-width:540px;
  padding:20px;
  animation:enter 1s;
}
header{text-align:center;margin-bottom:15px}
header h1{color:#0ff;font-size:34px}

input#device{
  width:100%;
  padding:16px;
  border-radius:14px;
  border:none;
  font-size:18px;
}

button#gen{
  width:100%;
  padding:16px;
  margin-top:10px;
  border:none;
  border-radius:14px;
  background:#0ff;
  font-size:20px;
  cursor:pointer;
}

#box{
  margin-top:20px;
  padding:20px;
  background:rgba(0,0,0,.55);
  border-radius:16px;
  animation:neon 3s infinite;
}

footer{
  margin-top:20px;
  display:flex;
  justify-content:space-around;
}
footer a{color:#0ff;text-decoration:none;font-size:18px}
</style>
</head>

<body>

<div id="login">
  <h1>Sensi Xitada</h1>
  <input id="u" placeholder="Usuário">
  <input id="s" type="password" placeholder="Senha">
  <button onclick="auth()">Entrar</button>
</div>

<div id="app">
  <header><h1>Sensi Xitada PRO</h1></header>

  <input id="device" placeholder="Ex: Samsung A12, iPhone 11">
  <button id="gen" onclick="generate()">GERAR</button>

  <div id="box"></div>

  <footer>
    <a href="https://www.instagram.com/_oliveira.2ss" target="_blank">Instagram</a>
    <a href="https://www.tiktok.com/@oliveira.2ss" target="_blank">TikTok</a>
  </footer>
</div>

<script>
/* ===== AUTH ===== */
function auth(){
  if(u.value==="Oliveira.2ss" && s.value==="hs70%"){
    localStorage.auth="1";
    login.style.display="none";
    app.style.display="block";
  }else alert("Login incorreto");
}
if(localStorage.auth==="1"){
  login.style.display="none";
  app.style.display="block";
}

/* ===== VALIDAÇÃO ===== */
const brands=["iphone","samsung","xiaomi","redmi","poco","motorola","oppo","realme","infinix"];

function validDevice(name){
  return brands.some(b=>name.toLowerCase().includes(b));
}

/* ===== ENGINE PRO ===== */
function smart(min,max,avg){
  let range=(max-min)*0.15;
  let base=avg ?? (min+max)/2;
  let val=base+(Math.random()*range*2-range);
  return Math.max(min,Math.min(max,Math.round(val)));
}

function db(){
  return JSON.parse(localStorage.sensiDB||"{}");
}
function save(dev,data){
  let d=db();
  if(!d[dev]) d[dev]=[];
  d[dev].push(data);
  localStorage.sensiDB=JSON.stringify(d);
}
function avg(dev,key){
  let d=db()[dev];
  if(!d) return null;
  return Math.round(d.reduce((s,v)=>s+v[key],0)/d.length);
}

/* ===== GERAR ===== */
function generate(){
  let dev=device.value.trim();
  if(!validDevice(dev)) return alert("Celular inválido");

  let isI=dev.toLowerCase().includes("iphone");

  let sensi={
    geral:smart(170,190,avg(dev,"geral")),
    vermelho:smart(150,180,avg(dev,"vermelho")),
    x2:smart(170,190,avg(dev,"x2")),
    x4:smart(170,190,avg(dev,"x4")),
    dpi1:isI?"N/A":smart(400,500,avg(dev,"dpi1")),
    dpi2:isI?"N/A":smart(600,900,avg(dev,"dpi2")),
    botao:smart(27,60,avg(dev,"botao"))
  };

  save(dev,sensi);

  box.innerHTML=`
  <h3>${dev}</h3>
  <p>Geral: ${sensi.geral}</p>
  <p>Vermelho: ${sensi.vermelho}</p>
  <p>2X: ${sensi.x2}</p>
  <p>4X: ${sensi.x4}</p>
  <p>DPI 1: ${sensi.dpi1}</p>
  <p>DPI 2: ${sensi.dpi2}</p>
  <p>Botão: ${sensi.botao}%</p>
  `;
}
</script>

</body>
</html>
